<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>

  <title>Welcome to South Africa</title>

  <style>
    .item img {
      width: 100%;
      height: 50%;
      cursor: pointer;
    }

    .item p {
      margin: 0;
    }

    .location {
      text-transform: uppercase;
      font-size: 12px;
      font-weight: bold;
      color: blue;
    }

    .title {
      font-size: 16px;
      font-weight: bold;
    }

    .price {
      font-size: 14px;
      font-weight: 400;
    }

    .selected {
      outline: 1px green;
    }
  </style>

</head>

<body>

  <div class='container-fluid px-4'>

    <div class='row'>
      <div class="col">
        <h1>Explore South Africa</h1>
        <h3>Popular experiences within our places</h3>
        <p>Experience life all over our country</p>
      </div>
      <!--end of my row-->

      <form>
        <div class="row">
          <div class="col-12 col-md">
            <input type="text" class='form-control' name='user_name' placeholder='Username'>
          </div>

          <div class="col-12 col-md">
            <input type="email" class="form-control" name='email' placeholder="email">
          </div>

          <div class="col-12 col-md">
            <input type="date" class="form-control" name='arrival_date' placeholder="C_In">
          </div>

          <div class="col-12 col-md">
            <input type="number" class="form-control" name='no_people' placeholder="People">
          </div>

          <div class="col-12 col-md">
            <input type="number" class="form-control" name='check_out_date' placeholder="check_out_date">
          </div>

          <div class="col-12 col-md">
            <button type="button" class='btn btn-primary' onclick='submitForm();'>Submit</button>
          </div>
          <ul><li> <a href="/house-upload">BECOME A HOST</a></li></ul>
          <ul><li> <a href="/our_rooms">RENT A ROOM</a></li></ul>
          <ul><li> <a href="/chat">CHAT</a></li></ul>
          <ul><li> <a href="/">LOGOUT</a></li></ul>
          <input type="hidden" name='selected_item'>

        </div>
      </form>

      <hr />

      <div class="row" id='tour'>
        <div class="col item">
          <img src='https://www.afristay.com/media/thumbnails/pictures/places/27305/38102298.jpg.1366x768_q85_crop_upscale.jpg' />
          <p class='location'>Sightseeing; Durban</p>
          <p class='title'>Nice place</p>
          <p class='price'>R1300 per person</p>
          <a class="active" href="/payment_form">Click Me to Book</a>
        </div>

        <div class="col item">
          <img src='https://res.cloudinary.com/rawson/image/upload/c_fill,fl_progressive,q_80,w_1280/v1/remote/c310b7d2-3317-4768-a1a4-1f93b506bd91.jpg' />
          <p class='location'>home Relaxation; PE</p>
          <p class='title'>Relaxation</p>
          <p class='price'>R1700 per person</p>
          <a class="active" href="/payment_form">Click Me to Book</a>
        </div>

        <div class="col item">
          <img src='https://t-ec.bstatic.com/images/hotel/max1024x768/127/127922027.jpg' />
          <p class='location'>Outdoor; Houghton</p>
          <p class='title'>Johannesburg</p>
          <p class='price'>R1400 per person</p>
          <a class="active" href="/payment_form">Click Me to Book</a>
        
        </div>

        <div class="col item">
          <img src='http://www.venues4africa.com/images/17331/index1b.jpg' />
          <p class='location'>Guided Walk; Polokwane</p>
          <p class='title'>peaceful home</p>
          <p class='price'>R900 per person</p>
          <a class="active" href="/payment_form">Click Me to Book</a>
        </div>

        <div class="col item">
          <img src='http://manor-house.co.za/wp-content/uploads/2017/02/Manor-House-Banner-1.jpg' />
          <p class='location'>Tour; Durban</p>
          <p class='title'>Fancy and Safe</p>
          <p class='price'>R600 per person</p>
          <a class="active" href="/payment_form">Click Me to Book</a>
        </div>

      </div><!-- end of tour row-->

      <hr />
 
      <div class="row">
         <div class="col">
           <h3>Where to stay</h3>
         </div>
       </div> <!-- end of where to stay row -->

        <div class="row" id='accomodation'>
          <div class="col item">
            <img src='https://t-ec.bstatic.com/images/hotel/max1024x768/100/100991561.jpg' />
            <p class='location'>Entire Apartment; Eastern Cape</p>
            <p class='title'>home away</p>
            <p class='price'>R400 per night</p>
            <a class="active" href="/payment_form">Click Me to Book</a>
          </div>

          <div class="col item">
            <img
              src='https://happyhippodurban.co.za/wp-content/uploads/2018/05/fcdb8740-755d-4a66-a6ca-3b2db0a5aada.jpg' />
            <p class='location'>Guesthouse; George</p>
            <p class='title'>Rainforest Retreat Cottage</p>
            <p class='price'>R1700 per night</p>
            <a class="active" href="/payment_form">Click Me to Book</a>
          </div>

          <div class="col item">
            <img src='https://images.prop24.com/FetchImage.ashx?uid=190021916' />
            <p class='location'>Entire Apartment; Honeydew</p>
            <p class='title'>Luxury Resort with Full Facilities</p>
            <p class='price'>R1384 per night</p>
            <a class="active" href="/payment_form">Click Me to Book</a>
          </div>

          <div class="col item">
            <img src='https://images.prop24.com/212937784' />
            <p class='location'>Serviced Apartment &bull; Mpumalanga</p>
            <p class='title'>Cosy Serviced Apartment</p>
            <p class='price'>R1148 per night</p>
            <a class="active" href="/payment_form">Click Me to Book</a>
          </div>

          <div class="col item">
            <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6XNFa2L21bzX9Vv9csLqVwZIjyRf4DpZEOPNsGIUS-5EQpt2WYA' />
            <p class='location'>Villa&bull;soweto</p>
            <p class='title'>Soweto homes</p>
            <p class='price'>R300 per night</p>
            <a class="active" href="/payment_form">Click Me to Book</a>
          </div>

        </div><!--end of accomodation-->

      </div><!--end of container class-->

      <script src="https://www.gstatic.com/firebase.js"></script>
      <script>
        // we initialize 
        var config = {
          apiKey: "360937989181-fa6818kfnbn3de6nd83vko00ubst8jqi.apps.googleusercontent.com",
          authDomain: "waterfall-airbnb-af944-wethinkcode.com",
          databaseURL: "mongodb+srv://gbaloyi:1234abcd@cluster0-20qpy.mongodb.net/test?retryWrites=true",
          projectId: "waterall-airbnb-4C4a8",
          storageBucket: "waterfall-airbnb-af942.appspot.com",
          messagingSenderId: "16787524668"
        };
        firebase.initializeApp(config);

        var db = firebase.firestore();
        db.settings({
          timestampsInSnapshots: true
        });

        function submitForm() {
          var username = $("input[name='username']").val();
          var email = $("input[name='email']").val();
          var arrival_date = $("input[name='arrival_date']").val();
          var no_of_days = $("input[name='no_of_people']").val();
          var no_of_people = $("input[name='no_of_days']").val();
          var selected_item = $("input[name='selected_item']").val()

          db.collection('bookings').add({ name, email, arrival_date,no_of_people, no_of_days, selected_item })
        .then(function (docRef) {
          alert("Booking submitted successfully you are welcome to waterfall airbnb.");
        })
        .catch(function (error) {
          alert("Error submitting booking");
          console.error("Error: ", error);
        });
    }
  </script>

  <script>
      $('.item').click(function () {
        $('.item').removeClass('selected'); // clear previously selected item
        $(this).addClass('selected');

        var selected_item = $(this).find('.title').text();

        // We want to assign the value to our hidden value input in our form
        // so that it can be sent to us together later.
        $("input[name='selected_item']").val(selected_item)
      })
    </script>

</body>

</html>